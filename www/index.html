<!DOCTYPE HTML>
<head>
<title>Yun Messages</title>
<script type="text/javascript" src="zepto.min.js"></script>	
</head>
<body>
<H1> ARBot v.01</H1> <br>
Press the buttons to drive me!
<br>
<!-- button ID values correspond to the numbers the sketch looks for the URL -->
<!-- when you click the button it runs the reply_click function -->
<button id="1" onclick=reply_click(this.id)> Forward </button>
<br>
<button id="2" onclick=reply_click(this.id)> Left </button>
<button id="3" onclick=reply_click(this.id)> Right </button>
<br>
<button id="5" onclick=reply_click(this.id)> Reverse </button>
<br>
<br>
<button id="4" onclick=reply_click(this.id)> STOP! </button>



<script type="text/javascript">	
//setup mode variable
var mode;
//get number from button clicked on page, send to sendMsg function for processing
function reply_click(clicked_id)
{
	mode = clicked_id;
	//this needs to be here as a weird cludge due to asynchronous functions!
   window.alert=null;
    sendMsg(mode);
}

function sendMsg(mode) {	
//change URL to /arduino/mode and append mode number from above
$.get('/arduino/mode/' + mode + '/',
	function(){
		sendMsg();
	}
);
return false;

}
</script>
</body>